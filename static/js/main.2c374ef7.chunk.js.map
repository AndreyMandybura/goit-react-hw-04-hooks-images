{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","services/api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","imageSearch","setImageSearch","className","s","SearchForm","e","preventDefault","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ApiService","this","API_KEY","BASE_URL","page","a","url","fetch","response","json","data","hits","ImageGalleryItem","img","tags","webformatURL","largeImageURL","onClick","ImageGalleryItem_image","src","alt","Button","id","apiService","ImageGallery","gallery","setGallery","error","setError","status","setStatus","setPage","useEffect","fetchImage","then","catch","prevState","document","getElementById","scrollIntoView","block","behavior","Loader","color","height","width","timeout","message","GalleryBox","map","modalRoot","querySelector","Modal","onClose","children","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","target","App","largeImage","setLargeImage","showModal","setShowModal","console","log","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2c374ef7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2rpZE\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__gusxh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3CMBO\",\"Modal\":\"Modal_Modal__3zf9Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1MokV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3Lqjx\",\"SearchForm\":\"Searchbar_SearchForm__3j9Yj\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2I9Ef\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__22ZB2\",\"SearchForm_input\":\"Searchbar_SearchForm_input__1q5yF\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [imageSearch, setImageSearch] = useState('');\n\n  const handleChange = e => {\n    setImageSearch(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(imageSearch);\n    setImageSearch('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={imageSearch}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;\n","export default class ApiService {\n  constructor() {\n    this.API_KEY = '23647546-0c9963079c4ed781ee6b1e575';\n    this.BASE_URL = 'https://pixabay.com/api/';\n  }\n\n  async fetchImage(imageSearch, page) {\n    const url = `${this.BASE_URL}?image_type=photo&orientation=horizontal&q=${imageSearch}&page=${page}&per_page=12&key=${this.API_KEY}`;\n    const response = await fetch(url);\n    const data = await response.json();\n    return data.hits;\n  }\n}\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({\n  img: { tags, webformatURL, largeImageURL },\n  onClick,\n}) {\n  return (\n    <li className={s.ImageGalleryItem} onClick={() => onClick(largeImageURL)}>\n      <img className={s.ImageGalleryItem_image} src={webformatURL} alt={tags} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  img: PropTypes.object,\n  onClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button type=\"button\" id=\"btn\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import { useState, useEffect } from 'react';\nimport ApiService from '../../services/api';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Loader from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst apiService = new ApiService();\n\nfunction ImageGallery({ imageSearch, onClick }) {\n  const [gallery, setGallery] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    if (!imageSearch) {\n      return;\n    }\n    setStatus('pending');\n    apiService\n      .fetchImage(imageSearch)\n      .then(gallery => {\n        setGallery(gallery);\n        setStatus('resolved');\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [imageSearch]);\n\n  useEffect(() => {\n    if (page === 1) {\n      return;\n    }\n    setStatus('pending');\n    apiService\n      .fetchImage(imageSearch, page)\n      .then(gallery => {\n        setGallery(prevState => [...prevState, ...gallery]);\n        setStatus('resolved');\n        document\n          .getElementById('btn')\n          .scrollIntoView({ block: 'center', behavior: 'smooth' });\n      })\n      .catch(error => {\n        setError(error);\n        setStatus('rejected');\n      });\n  }, [imageSearch, page]);\n\n  const handleOnLoadMoreClick = () => {\n    setPage(prevState => prevState + 1);\n  };\n\n  if (status === 'idle') {\n    return <div></div>;\n  }\n\n  if (status === 'pending') {\n    return (\n      <Loader\n        className={s.Loader}\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={250}\n        width={250}\n        timeout={3000}\n      />\n    );\n  }\n\n  if (status === 'rejected') {\n    return <h1>{error.message}</h1>;\n  }\n\n  if (status === 'resolved') {\n    return (\n      <div className={s.GalleryBox}>\n        <ul className={s.ImageGallery}>\n          {gallery.map(img => (\n            <ImageGalleryItem key={img.id} img={img} onClick={onClick} />\n          ))}\n        </ul>\n        <Button onClick={handleOnLoadMoreClick} />\n      </div>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  imageSearch: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    const handleKeyDown = e => {\n      e.code === 'Escape' && onClose();\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [onClose]);\n\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  forClose: PropTypes.func,\n  children: PropTypes.node,\n};\n","import { useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport './App.css';\n\nfunction App() {\n  const [imageSearch, setImageSearch] = useState('');\n  const [largeImage, setLargeImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const handleFormSubmit = imageSearch => {\n    setImageSearch(imageSearch);\n    console.log(imageSearch);\n  };\n\n  const setLargeImageURL = largeImage => {\n    setLargeImage(largeImage);\n    setShowModal(true);\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery imageSearch={imageSearch} onClick={setLargeImageURL} />\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImage} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3HPeb\",\"GalleryBox\":\"ImageGallery_GalleryBox__1I5w6\",\"Loader\":\"ImageGallery_Loader__-hG4P\"};"],"sourceRoot":""}